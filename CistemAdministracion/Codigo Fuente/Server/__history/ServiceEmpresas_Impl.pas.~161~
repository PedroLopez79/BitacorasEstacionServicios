unit ServiceEmpresas_Impl;

{----------------------------------------------------------------------------}
{ This unit was automatically generated by the RemObjects SDK after reading  }
{ the RODL file associated with this project .                               }
{                                                                            }
{ This is where you are supposed to code the implementation of your objects. }
{----------------------------------------------------------------------------}

{$I RemObjects.inc}

interface

uses
  {vcl:} Classes, SysUtils, 
  {RemObjects:} uROXMLIntf, uROClientIntf, uROTypes, uROServer, uROServerIntf, uROSessions,
  {Required:} uRORemoteDataModule,
  {Ancestor Implementation:} DataAbstractService_Impl,
  {Used RODLs:} DataAbstract4_Intf,
  {Generated:} LibraryEmpresas_Intf;

type
  { TServiceEmpresas }
  TServiceEmpresas = class(TDataAbstractService, IServiceEmpresas)
  private
  protected
    { IServiceEmpresas methods }
    function AbreDataSetReporte(const SQL: AnsiString; const Parametros: TParametros): Binary;
    procedure ActualizaCupon(const Barras: AnsiString; const DiaConsumo: Integer; const EjercicioConsumo: Integer; const FechaConsumo: DateTime; 
                             const PeriodoConsumo: Integer; const Secuencia: Integer; const Ticket: Integer; const Liquidacion: Integer);
    procedure ActualizaCuponConReferencia(const Barras: AnsiString; const DiaConsumo: Integer; const EjercicioConsumo: Integer; const FechaConsumo: DateTime; 
                                          const PeriodoConsumo: Integer; const Secuencia: Integer; const Ticket: Integer; const Referencia: AnsiString);
    procedure ActualizaLiquidacionCorte(const Liquidacion: Integer; const Secuencia: Integer; const AgrupacionID: Integer);
    procedure ActualizarStatusValeCredito(const CarteraValeCreditoID: Integer; const Status: AnsiString; const FacturaID: Integer);
    procedure ActualizaStatusCupon(const Barras: AnsiString; const DiaConsumo: Integer; const EjercicioConsumo: Integer; const FechaConsumo: DateTime; 
                                   const LiquidacionID: Integer; const PeriodoConsumo: Integer; const Secuencia: Integer);
    function GeneraFactura(const EstacionID: Integer; const Serie: AnsiString; const FechaCorte: DateTime; const ClienteID: Integer; 
                           const UsuarioID: Integer): Integer;
    function BuscaReporte(const Nombre: AnsiString; const TipoTemplate: Integer): TReporte;
    function CambiaFolioFactura(const Serie: AnsiString; const Folio: Integer; const NewSerie: AnsiString; const NewFolio: Integer): AnsiString;
    function CancelaFactura(const Folio: Integer; const Serie: AnsiString; const Fecha: DateTime; const EstacionID: Integer; const UsuarioID: Integer): AnsiString;
    function CierraLiquidacion(const LiquidacionID: Integer): AnsiString;
    function CostoProducto(const ProductoID: Integer): Double;
    function DatosCliente(const ClienteID: Integer; const Referencia: AnsiString): TDatosCliente;
    function Existencia(const EstacionID: Integer; const AlmacenID: Integer; const ProductoID: Integer; const Fecha: DateTime): Double;
    function FacturaExpress(const Serie: AnsiString; const Folio: Integer): TFacturaExpress;
    function FacturaID(const Serie: AnsiString; const Folio: Integer): Integer;
    function FacturaYLiquidacion(const ClienteID: Integer): Boolean;
    function Fecha: DateTime;
    function Folio(const Campo: AnsiString; const Serie: AnsiString): Integer;
    function FolioActual(const Campo: AnsiString; const Serie: AnsiString): Integer;
    function FolioActual2(const Campo: AnsiString; const Serie: AnsiString; const EstacionID: Integer): Integer;
    procedure GuardaAccesos(const UsuarioID: Integer; const Lista: AnsiString);
    function GuardaConsumoExpress(const Consumo: TConsumoExpress): Boolean;
    procedure GuardaLimiteFactura(const UsuarioID: Int64; const Cantidad: Double);
    procedure GuardarDatosFactura(const DatosFactura: TDatosFactura);
    procedure GuardarDatosLiquidacion(const DatosLiquidacion: TDatosLiquidacion);
    procedure GuardarDatosReciboPago(const DatosReciboPago: TDatosReciboPago);
    function GuardarFacturaExpress(const ClienteID: Integer; const Serie: AnsiString; const EstacionID: Integer; const TicketID: Integer): TFacturaExpress;
    procedure InsertaDeposito(const DepositoID: Integer; const Cantidad: Double; const Usuario: Integer; const Fecha: DateTime; const Secuencia: Integer; 
                              const EstacionID: Integer; const Descripcion: AnsiString; const Ejercicio: Integer; const Periodo: Integer; 
                              const Dia: Integer);
    procedure InsertaProductoPrecio(const ProductoID: Integer; const EstacionID: Integer; const Precio: Double);
    function Login(const Usuario: AnsiString; const Clave: AnsiString): TLoginInfo;
    function ModificarFolioActual(const Campo: AnsiString; const Serie: AnsiString; const Folio: Integer): AnsiString;
    function ObtenerStatusCupon(const Barras: AnsiString): AnsiString;
    function ObtenerTipoCambioIDPorEstacion(const EstacionID: Integer): Integer;
    function ObtenerTipoCambioPorEstacion(const EstacionID: Integer): Double;
    function PrecioProducto(const EstacionID: Integer; const ProductoID: Integer): Double;
    function StatusTicket(const EstacionID: Integer; const TicketID: Integer): Integer;
    function SumaAnticipo(const Estacion: Integer; const Secuencia: Integer): Double;
    function SumaVentasCorte(const Estacion: Integer; const Secuencia: Integer; const AgrupacionID: Integer): Double;
    function ValoresTurno(const EstacionID: Integer; const TurnoID: Integer): TValoresTurno;
    function VersionServer: AnsiString;
    function LiquidacionCerrada(const EstacionID: Integer; const TurnoID: Integer): Boolean;
    function ClienteValido(const ClienteID: Integer; const NewClienteID: Integer): Boolean;
    function BuscaOtroProducto(const EstacionID: Integer; const Codigo: AnsiString): TOtroProducto;
    function TurnoALiquidacionID(const TurnoID: Integer; const EstacionID: Integer): Integer;
    function BuscaSagarpa(const EstacionID: Integer): TSagarpa;
    function PuntosCalculaSaldo(const ClienteID: Integer): Double;
    function PuntosCalculaPuntos(const ClienteID: Integer; const ProductoID: Integer; const Volumen: Double): Double;
    procedure PuntosGuardaDatos(const Datos: TDatosPuntos);
    function PuntosDatos(const ClienteID: Integer): TDatosPuntos;
    function EliminaAutomaticosLiquidacion(const EstacionID: Integer; const TurnoID: Integer): Boolean;
    function BuscaDespachadorLiquidacion(const BombaID: Integer; const EstacionID: Integer; const TurnoID: Integer): Integer;
    function EntregaPremio(const ClienteID: Integer; const PremioID: Integer; const Cantidad: Integer): TEntregaPremio;
    function DatosPremio(const PremioID: Integer): TDatosPremio;
    function ValidaConsumo(const Consumo: TConsumoExpress): Integer;
    function AgrupacionesBomba(const EstacionID: Integer): AAgrupacion;
    function DatosCerrarLiquidacion(const EstacionID: Integer; const TurnoID: Integer): TDatosCerrarLiquidacion;
    procedure ProcesaVentasLiquidacion(const Datos: TDatosCerrarLiquidacion);
    function TicketsLiquidacion(const LiquidacionID: Integer): AnsiString;
    function ValidaFolioFactura(const Serie: AnsiString; const Folio: Integer): Boolean;
    procedure PuntosGuardaCriterios(const PuntosCriterioID: Integer; const Datos: AnsiString);
    function DatosFacturaElectronica(const FacturaID: Integer; const EstacionID: Integer): TFacturaElectronica;
    function LlavePrivaCertificado(const LlavePrivada: AnsiString; const Certificado: AnsiString; const GasolineroID: Integer; const Password: AnsiString; 
                                   const EstacionID: Integer): AnsiString;
    function SELLOPEMs(const Texto: UnicodeString; const EstacionID: Integer): AnsiString;
    function CERs(const DIR: AnsiString): AnsiString;
    function ValidaLiquidacionDespachador(const LiquidacionID: Integer): AnsiString;
    function ActualizaLiquidacionProd(const Estacion: Integer; const FechaIni: DateTime; const FechaFin: DateTime; const TurnoID: Integer): Boolean;
    procedure PuntosDespachador(const TurnoID: Integer; const EstacionID: Integer; const UsuarioID: Integer);
    procedure GuardarDatosFacturaPemex(const DatosFacturaPemex: TDatosFacturaPemex);
    function AfectaInventarios(const LiquidacionID: Integer; const UsuarioID: Integer): AnsiString;
    procedure InsertaFacturaElectronica(const FacturaElectronicaID: Integer; const CadenaOriginal: UnicodeString; const SelloDigital: UnicodeString; 
                                        const FacturaID: Integer; const Vigencia: Boolean; const Enviado: Boolean; const NoCertificado: AnsiString; 
                                        const NoAprobacion: AnsiString; const FechaAprobacion: DateTime);
    function CERsNUM(const DIR: AnsiString): AnsiString;
    function ActualizaFirmaDefault(const UsuarioID: Integer; const FIRMA: Binary): AnsiString;
  end;

implementation

{$IFDEF DELPHIXE2UP}
{%CLASSGROUP 'System.Classes.TPersistent'}
{$ENDIF}

{$IFNDEF FPC}
  {$R *.dfm}
{$ELSE}
  {$R *.lfm}
{$ENDIF}
uses
  {Generated:} LibraryEmpresas_Invk;

procedure Create_ServiceEmpresas(out anInstance : IUnknown);
begin
  anInstance := TServiceEmpresas.Create(nil);
end;

{ ServiceEmpresas }
function TServiceEmpresas.AbreDataSetReporte(const SQL: AnsiString; const Parametros: TParametros): Binary;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

procedure TServiceEmpresas.ActualizaCupon(const Barras: AnsiString; const DiaConsumo: Integer; const EjercicioConsumo: Integer; const FechaConsumo: DateTime; 
                                          const PeriodoConsumo: Integer; const Secuencia: Integer; const Ticket: Integer; const Liquidacion: Integer);
begin
end;

procedure TServiceEmpresas.ActualizaCuponConReferencia(const Barras: AnsiString; const DiaConsumo: Integer; const EjercicioConsumo: Integer; const FechaConsumo: DateTime; 
                                                       const PeriodoConsumo: Integer; const Secuencia: Integer; const Ticket: Integer; const Referencia: AnsiString);
begin
end;

procedure TServiceEmpresas.ActualizaLiquidacionCorte(const Liquidacion: Integer; const Secuencia: Integer; const AgrupacionID: Integer);
begin
end;

procedure TServiceEmpresas.ActualizarStatusValeCredito(const CarteraValeCreditoID: Integer; const Status: AnsiString; const FacturaID: Integer);
begin
end;

procedure TServiceEmpresas.ActualizaStatusCupon(const Barras: AnsiString; const DiaConsumo: Integer; const EjercicioConsumo: Integer; const FechaConsumo: DateTime; 
                                                const LiquidacionID: Integer; const PeriodoConsumo: Integer; const Secuencia: Integer);
begin
end;

function TServiceEmpresas.GeneraFactura(const EstacionID: Integer; const Serie: AnsiString; const FechaCorte: DateTime; const ClienteID: Integer; 
                                        const UsuarioID: Integer): Integer;
begin
end;

function TServiceEmpresas.BuscaReporte(const Nombre: AnsiString; const TipoTemplate: Integer): TReporte;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.CambiaFolioFactura(const Serie: AnsiString; const Folio: Integer; const NewSerie: AnsiString; const NewFolio: Integer): AnsiString;
begin
end;

function TServiceEmpresas.CancelaFactura(const Folio: Integer; const Serie: AnsiString; const Fecha: DateTime; const EstacionID: Integer; const UsuarioID: Integer): AnsiString;
begin
end;

function TServiceEmpresas.CierraLiquidacion(const LiquidacionID: Integer): AnsiString;
begin
end;

function TServiceEmpresas.CostoProducto(const ProductoID: Integer): Double;
begin
end;

function TServiceEmpresas.DatosCliente(const ClienteID: Integer; const Referencia: AnsiString): TDatosCliente;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.Existencia(const EstacionID: Integer; const AlmacenID: Integer; const ProductoID: Integer; const Fecha: DateTime): Double;
begin
end;

function TServiceEmpresas.FacturaExpress(const Serie: AnsiString; const Folio: Integer): TFacturaExpress;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.FacturaID(const Serie: AnsiString; const Folio: Integer): Integer;
begin
end;

function TServiceEmpresas.FacturaYLiquidacion(const ClienteID: Integer): Boolean;
begin
end;

function TServiceEmpresas.Fecha: DateTime;
begin
end;

function TServiceEmpresas.Folio(const Campo: AnsiString; const Serie: AnsiString): Integer;
begin
end;

function TServiceEmpresas.FolioActual(const Campo: AnsiString; const Serie: AnsiString): Integer;
begin
end;

function TServiceEmpresas.FolioActual2(const Campo: AnsiString; const Serie: AnsiString; const EstacionID: Integer): Integer;
begin
end;

procedure TServiceEmpresas.GuardaAccesos(const UsuarioID: Integer; const Lista: AnsiString);
begin
end;

function TServiceEmpresas.GuardaConsumoExpress(const Consumo: TConsumoExpress): Boolean;
begin
end;

procedure TServiceEmpresas.GuardaLimiteFactura(const UsuarioID: Int64; const Cantidad: Double);
begin
end;

procedure TServiceEmpresas.GuardarDatosFactura(const DatosFactura: TDatosFactura);
begin
end;

procedure TServiceEmpresas.GuardarDatosLiquidacion(const DatosLiquidacion: TDatosLiquidacion);
begin
end;

procedure TServiceEmpresas.GuardarDatosReciboPago(const DatosReciboPago: TDatosReciboPago);
begin
end;

function TServiceEmpresas.GuardarFacturaExpress(const ClienteID: Integer; const Serie: AnsiString; const EstacionID: Integer; const TicketID: Integer): TFacturaExpress;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

procedure TServiceEmpresas.InsertaDeposito(const DepositoID: Integer; const Cantidad: Double; const Usuario: Integer; const Fecha: DateTime; const Secuencia: Integer; 
                                           const EstacionID: Integer; const Descripcion: AnsiString; const Ejercicio: Integer; const Periodo: Integer; 
                                           const Dia: Integer);
begin
end;

procedure TServiceEmpresas.InsertaProductoPrecio(const ProductoID: Integer; const EstacionID: Integer; const Precio: Double);
begin
end;

function TServiceEmpresas.Login(const Usuario: AnsiString; const Clave: AnsiString): TLoginInfo;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.ModificarFolioActual(const Campo: AnsiString; const Serie: AnsiString; const Folio: Integer): AnsiString;
begin
end;

function TServiceEmpresas.ObtenerStatusCupon(const Barras: AnsiString): AnsiString;
begin
end;

function TServiceEmpresas.ObtenerTipoCambioIDPorEstacion(const EstacionID: Integer): Integer;
begin
end;

function TServiceEmpresas.ObtenerTipoCambioPorEstacion(const EstacionID: Integer): Double;
begin
end;

function TServiceEmpresas.PrecioProducto(const EstacionID: Integer; const ProductoID: Integer): Double;
begin
end;

function TServiceEmpresas.StatusTicket(const EstacionID: Integer; const TicketID: Integer): Integer;
begin
end;

function TServiceEmpresas.SumaAnticipo(const Estacion: Integer; const Secuencia: Integer): Double;
begin
end;

function TServiceEmpresas.SumaVentasCorte(const Estacion: Integer; const Secuencia: Integer; const AgrupacionID: Integer): Double;
begin
end;

function TServiceEmpresas.ValoresTurno(const EstacionID: Integer; const TurnoID: Integer): TValoresTurno;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.VersionServer: AnsiString;
begin
end;

function TServiceEmpresas.LiquidacionCerrada(const EstacionID: Integer; const TurnoID: Integer): Boolean;
begin
end;

function TServiceEmpresas.ClienteValido(const ClienteID: Integer; const NewClienteID: Integer): Boolean;
begin
end;

function TServiceEmpresas.BuscaOtroProducto(const EstacionID: Integer; const Codigo: AnsiString): TOtroProducto;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.TurnoALiquidacionID(const TurnoID: Integer; const EstacionID: Integer): Integer;
begin
end;

function TServiceEmpresas.BuscaSagarpa(const EstacionID: Integer): TSagarpa;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.PuntosCalculaSaldo(const ClienteID: Integer): Double;
begin
end;

function TServiceEmpresas.PuntosCalculaPuntos(const ClienteID: Integer; const ProductoID: Integer; const Volumen: Double): Double;
begin
end;

procedure TServiceEmpresas.PuntosGuardaDatos(const Datos: TDatosPuntos);
begin
end;

function TServiceEmpresas.PuntosDatos(const ClienteID: Integer): TDatosPuntos;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.EliminaAutomaticosLiquidacion(const EstacionID: Integer; const TurnoID: Integer): Boolean;
begin
end;

function TServiceEmpresas.BuscaDespachadorLiquidacion(const BombaID: Integer; const EstacionID: Integer; const TurnoID: Integer): Integer;
begin
end;

function TServiceEmpresas.EntregaPremio(const ClienteID: Integer; const PremioID: Integer; const Cantidad: Integer): TEntregaPremio;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.DatosPremio(const PremioID: Integer): TDatosPremio;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.ValidaConsumo(const Consumo: TConsumoExpress): Integer;
begin
end;

function TServiceEmpresas.AgrupacionesBomba(const EstacionID: Integer): AAgrupacion;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.DatosCerrarLiquidacion(const EstacionID: Integer; const TurnoID: Integer): TDatosCerrarLiquidacion;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

procedure TServiceEmpresas.ProcesaVentasLiquidacion(const Datos: TDatosCerrarLiquidacion);
begin
end;

function TServiceEmpresas.TicketsLiquidacion(const LiquidacionID: Integer): AnsiString;
begin
end;

function TServiceEmpresas.ValidaFolioFactura(const Serie: AnsiString; const Folio: Integer): Boolean;
begin
end;

procedure TServiceEmpresas.PuntosGuardaCriterios(const PuntosCriterioID: Integer; const Datos: AnsiString);
begin
end;

function TServiceEmpresas.DatosFacturaElectronica(const FacturaID: Integer; const EstacionID: Integer): TFacturaElectronica;
begin
  {$Message Hint 'is not implemented yet!'}
  Result := nil;
end;

function TServiceEmpresas.LlavePrivaCertificado(const LlavePrivada: AnsiString; const Certificado: AnsiString; const GasolineroID: Integer; const Password: AnsiString; 
                                                const EstacionID: Integer): AnsiString;
begin
end;

function TServiceEmpresas.SELLOPEMs(const Texto: UnicodeString; const EstacionID: Integer): AnsiString;
begin
end;

function TServiceEmpresas.CERs(const DIR: AnsiString): AnsiString;
begin
end;

function TServiceEmpresas.ValidaLiquidacionDespachador(const LiquidacionID: Integer): AnsiString;
begin
end;

function TServiceEmpresas.ActualizaLiquidacionProd(const Estacion: Integer; const FechaIni: DateTime; const FechaFin: DateTime; const TurnoID: Integer): Boolean;
begin
end;

procedure TServiceEmpresas.PuntosDespachador(const TurnoID: Integer; const EstacionID: Integer; const UsuarioID: Integer);
begin
end;

procedure TServiceEmpresas.GuardarDatosFacturaPemex(const DatosFacturaPemex: TDatosFacturaPemex);
begin
end;

function TServiceEmpresas.AfectaInventarios(const LiquidacionID: Integer; const UsuarioID: Integer): AnsiString;
begin
end;

procedure TServiceEmpresas.InsertaFacturaElectronica(const FacturaElectronicaID: Integer; const CadenaOriginal: UnicodeString; const SelloDigital: UnicodeString; 
                                                     const FacturaID: Integer; const Vigencia: Boolean; const Enviado: Boolean; const NoCertificado: AnsiString; 
                                                     const NoAprobacion: AnsiString; const FechaAprobacion: DateTime);
begin
end;

function TServiceEmpresas.CERsNUM(const DIR: AnsiString): AnsiString;
begin
end;

function TServiceEmpresas.ActualizaFirmaDefault(const UsuarioID: Integer; const FIRMA: Binary): AnsiString;
begin
end;

var
  fClassFactory: IROClassFactory;
initialization
  fClassFactory := TROClassFactory.Create('ServiceEmpresas', {$IFDEF FPC}@{$ENDIF}Create_ServiceEmpresas, TServiceEmpresas_Invoker);
  // RegisterForZeroConf(fClassFactory,'_ServiceEmpresas_rosdk._tcp.');

finalization
  UnRegisterClassFactory(fClassFactory);
  fClassFactory := nil;

end.
